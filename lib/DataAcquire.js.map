{"version":3,"sources":["../src/DataAcquire.js"],"names":["module","exports","receive","event","next","commit","type","who","address","user","id","body","assign","orientation","msg_id","v1","send"],"mappings":"AAAA;;AAEA;;;;AACA;;;;AACA;;;;;;AAEAA,OAAOC,OAAP,GAAiB,YAAY;AACzB,WAAO;AACHC,iBAAS,iBAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AAC5B,gCAAUC,MAAV,CAAiB;AACbC,sBAAM,SADO;AAEbC,qBAAKJ,MAAMK,OAAN,CAAcC,IAAd,CAAmBC,EAFX;AAGbC,sBAAM,iBAAEC,MAAF,CAAS,EAAT,EAAaT,KAAb,EAAoB;AACtBU,iCAAa,CADS;AAEtBC,4BAAQ,mBAAKC,EAAL;AAFc,iBAApB;AAHO,aAAjB,EAOG,CAPH;AAQAX;AACH,SAXE;AAYHY,cAAM,cAAUb,KAAV,EAAiBC,IAAjB,EAAuB;AACzB,gCAAUC,MAAV,CAAiB;AACbC,sBAAM,SADO;AAEbC,qBAAKJ,MAAMK,OAAN,CAAcC,IAAd,CAAmBC,EAFX;AAGbC,sBAAM,iBAAEC,MAAF,CAAS,EAAT,EAAaT,KAAb,EAAoB;AACtBU,iCAAa,CADS;AAEtBC,4BAAQ,mBAAKC,EAAL;AAFc,iBAApB;AAHO,aAAjB,EAOG,CAPH;AAQAX;AACH;AAtBE,KAAP;AAwBH,CAzBD","file":"DataAcquire.js","sourcesContent":["\"use strict\";\r\n\r\nimport _ from 'lodash';\r\nimport uuid from 'node-uuid';\r\nimport HttpProxy from './HttpProxy';\r\n\r\nmodule.exports = function () {\r\n    return {\r\n        receive: function (event, next) {\r\n            HttpProxy.commit({\r\n                type: 'message',\r\n                who: event.address.user.id,\r\n                body: _.assign({}, event, {\r\n                    orientation: 1,\r\n                    msg_id: uuid.v1()\r\n                })\r\n            }, 2);\r\n            next();\r\n        },\r\n        send: function (event, next) {\r\n            HttpProxy.commit({\r\n                type: 'message',\r\n                who: event.address.user.id,\r\n                body: _.assign({}, event, {\r\n                    orientation: 2,\r\n                    msg_id: uuid.v1()\r\n                })\r\n            }, 2);\r\n            next();\r\n        }\r\n    }\r\n};\r\n"]}