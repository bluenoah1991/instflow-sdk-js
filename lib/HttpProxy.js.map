{"version":3,"sources":["../src/HttpProxy.js"],"names":["HttpProxy","access_token","process","env","INSTFLOW_ACCESS_TOKEN","httpPack","callback","requestOpts","url","INSTFLOW_URL","headers","data","qos","undefined","commit","Buffer","from","JSON","stringify"],"mappings":"AAAA;;;;;;;;;AAEA;;;;IAEaA,S,WAAAA,S;AACT,yBAAc;AAAA;;AACV,aAAKC,YAAL,GAAoBC,QAAQC,GAAR,CAAYC,qBAAhC;AACA,aAAKC,QAAL,GAAgB,uBAAa;AACzBC,sBAAU,KAAKA,QADU;AAEzBC,yBAAa;AACTC,qBAAKN,QAAQC,GAAR,CAAYM,YAAZ,IAA4B,4CADxB;AAETC,yBAAS;AACL,oCAAgB,KAAKT;AADhB;AAFA;AAFY,SAAb,CAAhB;AASH;;;;+BAEMU,I,EAAc;AAAA,gBAARC,GAAQ,uEAAF,CAAE;;AACjB,gBAAGD,QAAQE,SAAX,EAAqB;AACjB,qBAAKR,QAAL,CAAcS,MAAd,CAAqBC,OAAOC,IAAP,CAAYC,KAAKC,SAAL,CAAeP,IAAf,CAAZ,CAArB,EAAwDC,GAAxD;AACH;AACJ;;;;;;kBAGU,IAAIZ,SAAJ,E","file":"HttpProxy.js","sourcesContent":["\"use strict\";\r\n\r\nimport {HttpPack} from 'http-pack';\r\n\r\nexport class HttpProxy {\r\n    constructor() {\r\n        this.access_token = process.env.INSTFLOW_ACCESS_TOKEN;\r\n        this.httpPack = new HttpPack({\r\n            callback: this.callback,\r\n            requestOpts: {\r\n                url: process.env.INSTFLOW_URL || 'https://www.instflow.com/api/v1/activities',\r\n                headers: {\r\n                    'Access-Token': this.access_token\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    commit(data, qos = 0){\r\n        if(data != undefined){\r\n            this.httpPack.commit(Buffer.from(JSON.stringify(data)), qos);\r\n        }\r\n    }\r\n}\r\n\r\nexport default new HttpProxy();"]}